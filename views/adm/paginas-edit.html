<section ng-controller="paginasEditCtrll">
    
    <h1>Editar Página</h1>

    <div class="alert alert-success" role="alert" ng-if="saved">Página guardada na base de dados!</div>
    <div class="alert alert-warning" role="alert" ng-if="trashed">Página foi enviada para a reciclagem!</div>

	<form class="form-inline mb_20" ng-model="addCategoriaForm">
	  	<button class="btn btn-primary" ng-click="guardarPagina()">Guardar</button>
	  	<button class="btn btn-danger" ng-click="apagarPagina()">Apagar</button>
	</form>

	  <form class="form-horizontal" form-validator name="pageForm">

		  <div class="form-group" ng-class="{ 'has-error': pageForm.pageTitle.$valid  == false }">
		    <label for="inputEmail3" class="col-sm-2 control-label">Titulo</label>
		    <div class="col-sm-10">
		      <input type="text" class="form-control" id="pageTitle" name="pageTitle" placeholder="" field-validator="required" ng-model="page.titulo">
		    </div>
		  </div>

		  <div class="form-group" ng-class="{ 'has-error': pageForm.pageDesc.$valid  == false }">
		    <label for="inputEmail3" class="col-sm-2 control-label">Descrição</label>
		    <div class="col-sm-10">
		      <input type="text" class="form-control" id="pageDesc" name="pageDesc" placeholder="" field-validator="required" ng-model="page.descricao">
		    </div>
		  </div>

		  <div class="form-group">
		    <label for="inputEmail3" class="col-sm-2 control-label">Imagem</label>
		    <div class="col-sm-10">
		      <input type="file" id="pageImage" name="pageImage" file-upload />
		      <img src="{{pageImage}}" alt="" width="100" ng-if="pageImage" />
		    </div>
		  </div>

		  <div class="form-group" ng-class="{ 'has-error': pageForm.parentId.$valid  == false }">
		    <label for="inputEmail3" class="col-sm-2 control-label">Categoria</label>
		    <div class="col-sm-10">
		      <select class="form-control" id="parentId" name="parentId" field-validator="required" ng-model="page.parentId">
				  <option ng-repeat="categoria in categorias" value="{{::categoria.$id}}">{{::categoria.nome}}</option>
				</select>
		    </div>
		  </div>

		  <div class="form-group">
		    <label for="inputEmail3" class="col-sm-2 control-label">Url Slug</label>
		    <div class="col-sm-10">{{page.slug}}</div>
		  </div>

		  <div class="form-group" ng-class="{ 'has-error': pageForm.pageContent.$valid  == false }">
		    <label for="inputEmail3" class="col-sm-2 control-label">Conteúdo</label>
		    <div class="col-sm-10">
		      <textarea class="form-control" rows="3" id="pageContent" name="pageContent" field-validator="required" ng-model="page.content"></textarea>
		    </div>
		  </div>

		  <div class="form-group">
		    <div class="col-sm-offset-2 col-sm-10">
		      <button class="btn btn-primary" ng-click="guardarPagina();">Guardar</button>
		    </div>
		  </div>
		</form>

</section>